[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

# pytorch with CUDA 12.1
[[source]]
name = "pytorch-cu121"
url = "https://download.pytorch.org/whl/cu121"
verify_ssl = true

# pytorch with CUDA 12.4
[[source]]
name = "pytorch-cu124"
url = "https://download.pytorch.org/whl/cu124"
verify_ssl = true

# pytorch with CUDA 12.8
[[source]]
name = "pytorch-cu128"
url = "https://download.pytorch.org/whl/cu128"
verify_ssl = true

[requires]
python_version = "3.11"

[packages]
vllm = "==0.9.1"
transformers = "*"
regex = "*"
lighteval = { path = "./", editable = true, extras = ["multilingual", "math", "extended_tasks"] }
torch = {version = "~=2.7", index = "pytorch-cu128"}
janome = "*"
nagisa = "*"
litellm = "<2.0.0"
ja_sentence_segmenter = "*"
langdetect = ">=1.0.0,<2.0.0"
immutabledict = "*"
markdown = "*"
markdown-it-py = "*"
beautifulsoup4 = "<5.0.0"
openai = ">=1.4.0"
more-itertools = "*"
datasets = "<4.0.0"

[dev-packages]
lighteval = { path = "./", editable = true, extras = ["tests", "multilingual", "math", "extended_tasks"] }

[scripts]
test_unit = "python -m pytest tests/test_unit_*.py"
test_extractive_match = "python -m pytest tests/metrics/test_extractive_match.py"
test_mifeval_ja_metric = "python -m pytest -s tests/tasks/test_mifeval_ja_metric.py"